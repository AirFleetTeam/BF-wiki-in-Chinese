# 解锁顺序与安全

## 开关解锁

为解锁配置一个AUX通道，它将自动选择一个默认的略微超过解锁有效范围（在配置程序“模式”选项卡内配置）的范围，此范围的上限是有效范围的上限加一“步长”（25us），下限是有效范围的下限减一“步长”。这是一项安全性功能，可以确保通道值在上下限附近时不会导致意外解锁。

请注意，此默认值会被接收机的第一个数据值所覆盖，因此接收机初始化失败或某些故障保护功能可能仍会造成意外解锁。

## 意外解锁预防

Betaflight 3.2（及更高版本）提供了在飞行器无法解锁时相关的详细故障排除信息。

可以通过以下方式获取此信息：

* CLI
* Betaflight OSD
* 蜂鸣器
* Betaflight配置程序

部分无法解锁的情形是为了帮助防止由于接收机系统配置不正确，接收链路不可靠/质量差及因用户错误而导致的意外解锁。

这些导致飞行器无法解锁的原因被编码成一组标志（请参见[runtime\_config.h](https://github.com/betaflight/betaflight/blob/master/src/main/fc/runtime_config.h)）。

CLI

可以通过status命令查看标志。

某些闪存空间有限的飞控目标将仅展示这些标志的16进制数字。在这种情况下，当前激活的禁止解锁标志必须从runtime\_config.h中的armingDisableFlags\_e枚举中派生出来（请确保所查看的文件的版本与固件版本相匹配）。

蜂鸣器

当尝试解锁失败时，如果飞控板连有蜂鸣器，那么它将发出警告信号，以指示当前无法解锁的最重要（最低标志编号）原因。

警告信号如下：

* 五声短促的“注意”音；
* 若干次（也有可能为0次）长哔音；
* 间隔很长的若干次（也有可能为0次）的短哔音。

禁止解锁标志的标号可以通过下列公式计算：\(5 \* &lt;长哔音次数&gt;\) + &lt;短哔音次数&gt;

例如：

* 1声长 2声短 = 7
* 2声长 = 10

禁止解锁标志说明

每个标志的含义和您应该采取的（可能）解决问题的措施。

本列表应该与master分支中的代码（src/main/FC/runtime\_config.h中的`armingDisableFlags_e`）保持一致，因此可用于根据数字查找对应标志，但如果运行的是旧版本固件，您将需要根据上述描述，自行检查禁止解锁标志。



1. 这些标志可能会在飞行过程中出现在Betaflight OSD上，以作为提醒您的遥控系统出现故障或正处于失控边缘的警告。请像对待“RSSI信号严重不足”警告一样对待它。
2. 若启用了基于RPM回传的滤波器，但是有一个或多个ESC无法提供有效的Dshot遥测信息。请检查ESC是否支持双向Dshot并安装对应的固件。
3. 若Bitbang Dshot无法正常工作，电机无法被控制，则可能是由于计时器与飞控上启用的其他功能发生冲突所致。

